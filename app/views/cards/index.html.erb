<div class="mb-8">
  <h1 class="text-3xl font-bold text-white">ğŸ´ My Cards</h1>
  <p class="mt-2 text-gray-400">Manage your collection and set your starting lineup</p>
</div>

<!-- Starting Lineup -->
<div class="mb-8">
  <h2 class="text-xl font-bold text-white mb-4">âš”ï¸ Starting Lineup</h2>
  <div class="grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-5">
    <% (1..5).each do |position| %>
      <% starter = @starters.find { |s| s.position == position } %>
      <% if starter %>
        <div class="relative group">
          <%= render "shared/card", user_card: starter %>
          <div class="absolute top-2 left-2 flex h-6 w-6 items-center justify-center rounded-full bg-cyan-500 text-sm font-bold text-white">
            <%= position %>
          </div>
          <%= button_to remove_starter_card_path(starter), method: :delete, class: "absolute top-2 right-2 opacity-0 group-hover:opacity-100 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-white text-sm hover:bg-red-600 transition-opacity" do %>
            âœ•
          <% end %>
        </div>
      <% else %>
        <div class="rounded-xl bg-gray-800/50 border-2 border-dashed border-gray-600 p-6 flex items-center justify-center min-h-[280px]">
          <div class="text-center text-gray-500">
            <div class="text-3xl mb-2">â•</div>
            <div class="text-sm">Position <%= position %></div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>

<!-- Bench -->
<div>
  <h2 class="text-xl font-bold text-white mb-4">ğŸ“‹ Bench (<%= @bench.count %> cards)</h2>
  
  <% if @bench.any? %>
    <div class="grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6">
      <% @bench.each do |user_card| %>
        <div class="relative group">
          <%= render "shared/card", user_card: user_card %>
          
          <!-- Set as Starter dropdown -->
          <div class="absolute bottom-0 left-0 right-0 bg-gray-900/95 p-2 opacity-0 group-hover:opacity-100 transition-opacity rounded-b-xl">
            <div class="text-xs text-gray-400 mb-1">Set as starter:</div>
            <div class="flex justify-center gap-1">
              <% (1..5).each do |position| %>
                <%= button_to set_starter_card_path(user_card, position: position), class: "flex h-7 w-7 items-center justify-center rounded bg-cyan-600 text-xs font-semibold text-white hover:bg-cyan-500" do %>
                  <%= position %>
                <% end %>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="rounded-xl bg-gray-800 border border-gray-700 p-8 text-center">
      <div class="text-4xl mb-4">ğŸ“¦</div>
      <h3 class="text-lg font-semibold text-white mb-2">No cards on bench</h3>
      <p class="text-gray-400 mb-4">Open packs to add more cards to your collection.</p>
      <%= link_to "Open Packs", packs_path, class: "inline-flex items-center px-4 py-2 rounded-md bg-cyan-600 text-white font-semibold hover:bg-cyan-500" %>
    </div>
  <% end %>
</div>
