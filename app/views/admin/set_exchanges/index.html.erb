<div class="mb-8 flex items-center justify-between">
  <div>
    <h1 class="text-3xl font-bold text-white">Admin: Set Exchanges</h1>
    <p class="mt-2 text-gray-400">Manage card exchanges with dynamic slot requirements</p>
  </div>
  <%= link_to "Create New Exchange", new_admin_set_exchange_path, class: "rounded-md bg-cyan-600 px-4 py-2 text-sm font-semibold text-white hover:bg-cyan-500" %>
</div>

<div class="overflow-hidden rounded-lg border border-gray-700 bg-gray-800">
  <table class="min-w-full divide-y divide-gray-700">
    <thead class="bg-gray-900">
      <tr>
        <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-400">Exchange</th>
        <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-400">Card Set</th>
        <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-400">Slots</th>
        <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-400">Output</th>
        <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-400">Status</th>
        <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-400">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-700 bg-gray-800">
      <% @set_exchanges.each do |exchange| %>
        <tr class="hover:bg-gray-700/50">
          <td class="px-6 py-4">
            <div class="font-medium text-white"><%= exchange.name %></div>
            <div class="text-sm text-gray-400"><%= exchange.description %></div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">
            <%= link_to exchange.card_set.name, admin_card_set_path(exchange.card_set_id), class: "text-cyan-400 hover:text-cyan-300" %>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">
            <span class="inline-flex items-center rounded-full bg-gray-700 px-2 py-1 text-xs font-medium">
              <%= exchange.exchange_slots.count %> slot<%= exchange.exchange_slots.count == 1 ? '' : 's' %>
            </span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">
            <span class="inline-flex items-center rounded-full bg-cyan-900 px-2 py-1 text-xs font-medium text-cyan-300">
              <%= exchange.output_count %>x <%= exchange.output_min_rating %>-<%= exchange.output_max_rating %>
            </span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap">
            <span class="<%= exchange.active? ? 'text-green-400' : 'text-gray-400' %>">
              <%= exchange.active? ? 'Active' : 'Inactive' %>
            </span>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm">
            <%= link_to "Edit", edit_admin_set_exchange_path(exchange), class: "text-cyan-400 hover:text-cyan-300" %>
            <span class="mx-2 text-gray-600">|</span>
            <%= button_to "Delete", admin_set_exchange_path(exchange), method: :delete, class: "text-red-400 hover:text-red-300", data: { turbo_confirm: "Are you sure?" } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<% if @set_exchanges.empty? %>
  <div class="rounded-lg border border-gray-700 bg-gray-800 p-12 text-center">
    <div class="text-4xl mb-4">ðŸ”„</div>
    <h3 class="text-lg font-semibold text-white mb-2">No exchanges yet</h3>
    <p class="text-gray-400 mb-4">Create exchanges to let players trade cards with flexible requirements.</p>
    <%= link_to "Create Exchange", new_admin_set_exchange_path, class: "inline-flex items-center px-4 py-2 rounded-md bg-cyan-600 text-white font-semibold hover:bg-cyan-500" %>
  </div>
<% end %>
